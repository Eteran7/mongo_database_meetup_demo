FROM mongo:4.2.1-bionic
ARG ADMIN_USERNAME
ARG ADMIN_PASSWORD

ARG DATABASE_USERNAME
ARG DATABASE_PASSWORD

ENV MONGO_INITDB_ROOT_USERNAME ${ADMIN_USERNAME}
ENV MONGO_INITDB_ROOT_PASSWORD ${ADMIN_PASSWORD}
ENV MONGO_INITDB_DATABASE admin

ENV MONGO_USERNAME ${DATABASE_USERNAME}
ENV MONGO_PASSWORD ${DATABASE_PASSWORD}

COPY setup.sh /docker-entrypoint-initdb.d/
COPY ["park_data.json", "/app/park_data.json"]
COPY ["geometry_data.json", "/app/geometry_data.json"]
